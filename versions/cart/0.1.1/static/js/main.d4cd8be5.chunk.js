(this.cart=this.cart||[]).push([[0],{10:function(t,e,a){t.exports=a.p+"static/media/cart.55d46283.svg"},14:function(t,e,a){t.exports=a(25)},19:function(t,e,a){},24:function(t,e,a){},25:function(t,e,a){"use strict";a.r(e);var r=a(3),c=a(2),n=a(13),i={name:"cart",interface:{cart:{initialState:{products:[]}},addProductToCart:{type:c.a.TYPE.FUNCTION},removeProductFromCart:{type:c.a.TYPE.FUNCTION}}},s=new c.a(i).build();s.onAddProductToCartCalled((function(t){s.setCart(Object.assign({products:[].concat(Object(n.a)(s.getCart().products),[t])}))})),s.onRemoveProductFromCartCalled((function(t){s.setCart(Object.assign({products:s.getCart().products.filter((function(e){return e.id!==t.id}))}))}));var m=i,o=a(0),l=a.n(o),d=new c.a(i).build(),u=a(10),C=a.n(u);a(19);var v=d.withCart((function(t){var e=t.cart,a=t.onClick,r=e.products;return l.a.createElement("div",{className:"CartWidget",onClick:a,role:"button",tabIndex:-1},l.a.createElement("img",{src:C.a,className:"CartWidget__icon"}),l.a.createElement("div",{className:"CartWidget__text"},"Cart",r.length>0&&l.a.createElement("div",{className:"CartWidget__badge"},r.length)))})),g=a(4),p=new(a(11).a)({name:"design-system",interface:{components:{}}}).build(),_=(a(24),function(t){var e=t.product,a=p.getComponents().Button;return l.a.createElement("div",{className:"CartItem"},l.a.createElement("img",{src:e.image.small,className:"CartItem__image"}),l.a.createElement("div",{className:"CartItem__name"},e.name),l.a.createElement("div",{className:"CartItem__rating"},"Rating: ",e.rating&&e.rating.toFixed(2).replace(".",",")),l.a.createElement("div",{className:"CartItem__price"},"R$ ",e.price.toFixed(2).replace(".",",")),l.a.createElement("div",{className:"CartItem__quantity"},"Qtty: ",e.qtty),l.a.createElement("div",{className:"CartItem__actions"},l.a.createElement(a,{className:"Button",onClick:function(){return d.callRemoveProductFromCart(e)}},"Remove")))});var E=d.withCart((function(t){var e=t.cart,a=t.onBack,c=e.products,n=p.getComponents().Button;return l.a.createElement("div",{className:"CartScreen"},l.a.createElement("div",{className:"CartScreen__title"},l.a.createElement(n,{onClick:a},"Voltar"),l.a.createElement("h2",null,"Cart")),l.a.createElement("div",{className:"CartScreen__items"},Object.values(c.reduce((function(t,e){return Object.assign(t,Object(g.a)({},e.id,Object(r.a)(Object(r.a)({},e),{},{qtty:((t[e.id]||{}).qtty||0)+1})))}),{})).map((function(t){return l.a.createElement(_,{key:t.id,product:t})}))))}));Object(c.b)(Object(r.a)(Object(r.a)({},m),{},{view:{CartWidget:v,CartScreen:E}}))}},[[14,1,2]]]);
//# sourceMappingURL=main.d4cd8be5.chunk.js.map